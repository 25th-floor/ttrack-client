// @flow
import mottos from './mottos';
import actionTypes, { type MottoAction, type MottoType, type MottoState } from './MottoTypes';

/**
 * return a random number in range of min max
 */
function getRandomInt(rmin: number, rmax: number): number {
    const c = Math.ceil(rmin);
    const f = Math.floor(rmax);
    return Math.floor(Math.random() * (f - c)) + c;
}

const getRandomMotto = (): MottoType => mottos[getRandomInt(1, mottos.length - 1)];

const initialState: MottoState = {
    motto: getRandomMotto(),
};

export const MottoReducer = (state: MottoState = initialState, action: MottoAction) => {
    switch (action.type) {
        case actionTypes.RELOAD: {
            return { ...state, motto: getRandomMotto() };
        }

        default:
            return state;
    }
};

export default MottoReducer;
