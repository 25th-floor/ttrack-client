// @flow
import { REHYDRATE as PERSIST_HYDRATE } from 'redux-persist/constants';

import type { ApiUserType } from '../Resources';

export const LOGIN = 'AUTH/LOGIN';
export const LOGOUT = 'AUTH/LOGOUT';

export const REHYDRATE = PERSIST_HYDRATE;

export type AuthState = {
    user: ApiUserType,
    isAuthenticated: boolean,
    initialization: boolean,
};

export type LoginActionType = {
    type: 'AUTH/LOGIN',
    user: ApiUserType,
};

export type LogoutActionType = {
    type: 'AUTH/LOGOUT',
    user: ApiUserType,
};

export type RehydrateActionType = {
    type: 'persist/REHYDRATE',
    payload: {
        auth: AuthState,
    },
}

export type AuthAction =
    LoginActionType
    | LogoutActionType
    | RehydrateActionType;

export default {
    LOGIN,
    LOGOUT,
    REHYDRATE,
};
