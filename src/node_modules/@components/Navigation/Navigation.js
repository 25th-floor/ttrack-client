/* eslint-disable jsx-a11y/anchor-is-valid */
// @flow
// TODO remove a tags
import React from 'react';
import { connect } from 'react-redux';
import { NavLink, withRouter } from 'react-router-dom';

import { Brand, ProfileWidget } from '@components';

import { type AppState } from '@data';
import type { ApiUserType } from '@data/Resources';

import styles from './Navigation.module.css';
import './Navigation.css';

export type NavigationProps = {
    user: ApiUserType,
};

/**
 * Navigation
 */
const NavigationContainer = ({ user }: NavigationProps) => (
    <nav className={`navbar navbar-inverse navbar-fixed-top ${styles.navbar}`}>
        <div className={`navbar-header ${styles.header}`}>
            <NavLink to="/" className="navigation-brand">
                <Brand />
            </NavLink>
        </div>

        <ProfileWidget user={user} />

        <div className={`navbar-container ${styles['navbar-container']}`}>
            <ul className={`nav navbar-nav ${styles['navbar-nav']}`}>
                <li>
                    <NavLink to="/month" activeClassName={styles.active}>
                        <i className="fa fa-calendar" />
                        <span>Monatsansicht</span>
                    </NavLink>
                </li>
                <li>
                    <NavLink to="/vacations" activeClassName={styles.active}>
                        <i className="fa fa-plane" />
                        <span>Urlaube</span>
                    </NavLink>
                </li>
                <li className={`logout ${styles.logout}`}>
                    <NavLink to="/logout" activeClassName={styles.active}>
                        <i className="fa fa-power-off" />
                        <span>Logout</span>
                    </NavLink>
                </li>
            </ul>
        </div>
    </nav>
);

const mapStateToProps = ({ auth }: AppState) => ({
    user: auth.user,
});

export const Navigation = withRouter(connect(mapStateToProps)(NavigationContainer));
