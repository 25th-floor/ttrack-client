// @flow

import React from 'react';
import { connect } from 'react-redux';

import './LoadingApplication.css';

type TLoadingApplicationProps = {
    loading: boolean,
    children: any,
};

/**
 * LoadingApplication
 */
export const LoadingApplication = (({ loading, children }: TLoadingApplicationProps) => {
    if (loading) {
        return (
            <div className="wrap">
                <div className="loading">
                    <div className="bounceball" />
                    <div className="text">NOW LOADING</div>
                </div>
            </div>
        );
    }
    return (<div>{children}</div>);
});

const mapStateToProps = ({ auth }) => ({
    loading: !auth.initialization,
});

export default connect(mapStateToProps)(LoadingApplication);
