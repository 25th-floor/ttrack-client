// @flow
import React from 'react';
import { connect } from 'react-redux';
import { bindActionCreators } from 'redux';
import { Actions } from '@data';
import { Redirect } from 'react-router';
import { type LogoutActionType } from '@data/Auth/AuthTypes';

export type TLogoutRouteProps = {
    onLogout: () => LogoutActionType,
};

/**
 * LogoutRoute
 */
const LogoutRouteContainer = ({ onLogout }: TLogoutRouteProps) => {
    onLogout();
    return (<Redirect push to="/auth" />);
};

const mapDispatchToProps = dispatch => ({
    onLogout: bindActionCreators(Actions.Auth.logout, dispatch),
});

export const LogoutRoute = connect(null, mapDispatchToProps)(LogoutRouteContainer);

export default LogoutRoute;
